\documentclass[a4paper]{article}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage[lmargin=30mm,rmargin=12mm]{geometry}

\author{Воронин Святослав Петрович}
\title{Использование vim-latex}

\begin{document}
\maketitle
\tableofcontents

\part{Введение}
Мы уже согласились, что для подготовки текстовых документов очень правильно
использовать что-то типа \TeX{} или \LaTeX. Держать в голове все многообразие
команд и окружений, используемых в \LaTeX{} вряд ли представляется возможным.
Помочь в этом при создании исходного текста для последующей обработки его 
\LaTeXом и имеет целью рассматриваемое далее расширение редактора \texttt{Vim}.
\part{Установка vim-latex}\label{part:install}
Для установки плагина будем использовать менеджер плагинов \texttt{Vundle}, 
который, кстати говоря, сам является также плагином \texttt{Vim}.

Для начала нужно установить сам менеджер пакетов. Установка заключается в
клонировании репозитория \texttt{Vundle}. Сделать это можно с помощью следующей
команды:
\begin{verbatim}
git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
\end{verbatim}
Кроме того, нужно отредактировать файл \texttt{~/.vimrc}, добавив в него следующие
строки:
\begin{verbatim}
set nocompatible              " be iMproved, required
filetype off                  " required

set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()
Plugin 'VundleVim/Vundle.vim'
call vundle#end()            " required
\end{verbatim}
Между строками содержащими \texttt{begin()} и \texttt{end()} можно поместить 
пути к другим плагинам, которые будут использоваться редактором \texttt{vim}.

Установить plugin \texttt{vim-latex} можно и вручную. Такое часто необходимо, 
если компьютер не подключен к сети. Для этого нужно скачать архив 
\texttt{latexSuite.zip}, расположенный по адресу\linebreak \texttt{http://sourceforge.net/projects/vim-latex/files/},
а и распаковать его в каталог \verb|$HOME/.vim/|. 

В обоих случаях после установки нужно в 
конфигурационный файл \texttt{vim} добавить следующие строки:
\begin{verbatim}
" REQUIRED. This makes vim invoke Latex-Suite when you open a tex file.
filetype plugin on

" IMPORTANT: win32 users will need to have 'shellslash' set so that latex
" can be called correctly.
set shellslash

" OPTIONAL: This enables automatic indentation as you type.
filetype indent on

" OPTIONAL: Starting with Vim 7, the filetype of empty .tex files defaults to
" 'plaintex' instead of 'tex', which results in vim-latex not being loaded.
" The following changes the default filetype back to 'tex':
let g:tex_flavor='latex'
\end{verbatim}

Кроме того, ещё нужно обновить справочную службу редактора, чтобы добавить
в нее справочные материалы по \texttt{latexsuite}. Сделать это можно с помощью
команды: \begin{verbatim}
:helptag<путь к каталогу doc>
\end{verbatim}
\part{Обзор основных функций.}
Плагин \texttt{latexsuite} предоставляет множество функций и имеет почти
неограниченные функции настройки, что называется <<под себя>>. Все их
рассмотреть вряд ли представляется возможным. Далее рассмотрим только те,
которыми удобно пользоваться и которые дают возможность реально 
повысить производительность работы с программным пакетом \LaTeX.
\part{Вставка команд и окружений.}\label{part:insert}
Есть несколько способов вставки в редактируемый текст команд и окружений \LaTeX.
\begin{itemize}
	\item\sloppy Использование функциональных клавиш. При нажатии клавиши <F5> в режиме
		вставки, появляется список окружений, которые выбираются с помощью 
		указанных в круглых скобках номеров. Нажатие клавиши <F7> предлагает 
		меню комманд. Вызываемые функциональными клавишами меню настраиваются с
		помощью переменных. Список окружений определяется в переменной \verb|g:Tex_PromptedEnvironments|,
		а список команд, предлагаемых в меню в переменной 
		\verb|g:Tex_PromptedCommands|.
	\item Если при нажатии клавиши <F7> курсор находится на каком-либо слове, 
		то создается команда, состоящая из этого слова и курсор помещается в
		фигурные скобки, помещаемые после созданной команды. 
	\item Для вставки окружений можно использовать горячие клавиши. Работают они 
		в режиме вставки и вызываются комбинациями клавиш \texttt{<s-F1>} --- \texttt{<s-F4>}.
		Очевидно, что таких окружений может быть не более четырех, и их нужно 
		задать определив переменную \verb|g:Tex_HotKeyMappings|.
	\item Трехбуквенные последовательности. Плагин \texttt{latex-suite} предоставляет
		множество таких последовательносте, которые можно разбить на некоторые классы.
		\begin{itemize}
			\item 
		Так для вставки команд управления шрифтами 
		используются трехбуквенные абревиатуры, начинающиеся с заглавной буквы F, при
		этом две другие буквы эквивалентны названию шрифта из соответсвующей команды 
		\LaTeX. Примеры таких команд представлены в табл.\ref{tab:fonts}.
			\item Для создания окружений используются трехбуквенные команды начинающиеся
			  с заглавной буквы E:
			  \begin{itemize}
				  \item \texttt{ECE} создает окружение \verb|center|;
				  \item \texttt{EQE} создает окружение \verb|quote|;
				  \item \texttt{EEQ} создает окружение \verb|equation|.
			  \end{itemize}
			\item Трехбуквенные последовательности, используемые для формирования команд
		секционирования текста начинаются в буквы \texttt{S}. Вот эти команды:
				\begin{itemize}
					\item \texttt{SPA} для \verb|\part|;
					\item \texttt{SCH} для \verb|\chapter|;
					\item \texttt{SSE} для \verb|\section|;
					\item \texttt{SSS} для \verb|\subsection|;
					\item \texttt{SS2} для \verb|\subsubsection|;
					\item \texttt{SPG} для \verb|\paragraph|;
					\item \texttt{SSP} для \verb|\subparagraph|.
				\end{itemize}
		\end{itemize}
		Иногда всё же может потребоваться вставить в текст трехбуквенную абревиатуру, 
		которая не должны заменяться на соответствующую команду \LaTeX. Для этого нужно 
		ввести эту абревиатуру, она заменится на команду, после этого нужно нажать \texttt{u},
		то есть команду выполняющую отмену последнего действия, и в тексте останется 
		введенная абревиатура. 
	\item \texttt{latex-suite} по аналогии с символом \texttt{mapleader} определяет
		дополнительный символ \verb|Tex_Leader|(чаще всего используется символ \texttt{`}),
		с участием которого формируется 
		множество новых управляющих последовательностей. Так для вставки в документ
		греческих букв используются следующие последовательности:
		\begin{itemize}
			\item \verb|`a| эквивалентно команде \verb|\alpha|, вставляет символ $\alpha$;
			\item \verb|`b| эквивалентно команде \verb|\beta|, вставляет символ $\beta$;
			\item \verb|`G| эквивалентно команде \verb|\Gamma|, которая вставляет символ $\Gamma$.
		\end{itemize}
\end{itemize}
			\begin{table}
				\centering
				\begin{tabular}{|c|c|c|}
					\hline
					команда \LaTeX&3-х буквенный эквивалент&Пример\\
					\hline
					\verb|\textrm|\{\ldots\}&FRM&\textrm{Гарнитура Roman}\\
					\verb|\textsf|\{\ldots\}&FSF&\textsf{Гарнитура Sans-serif}\\
					\verb|\texttt|\{\ldots\}&FTT&\texttt{Гарнитура typewriter}\\
					\verb|\textbf|\{\ldots\}&FBF&\textbf{Полужирный}\\
					\hline
				\end{tabular}
				\caption{Команды управления шрифтами}
				\label{tab:fonts}
			\end{table}
\part{Тонкая настройка.}
Как уже говорилось ранее, \texttt{latex-suite} позволяет себя очень глубоко настраивать.
Настройке подлежит буквально все. Можно включать или выключать отдельные функции плагина,
можно настраивать вид вставляемых команд и окружения \LaTeX. Все настройки делаются путем
присваивания значений вводимым данным расширением переменным. Лучше всего, определить эти
переменные в файле \verb|$VIM/ftplugin/tex.vim|. При этом, в операционных системах Linux, 
чаще всего \verb|\$VIM = \$HOME/.vim|.

Что же обычно нужно настраивать в \texttt{latex-suite}? В части \ref{part:insert} уже упоминалось, что 
можно настроить меню команд и окружений, вызываемых по клавишам <F7> и <F5>. Сначала нужно посмотреть,
что содержится в соответствующей переменной. Делается это следующей командой:
\begin{verbatim}
	let g:Tex_PromptedCommands
\end{verbatim}
Например, мы хотим, чтобы в меню команд была бы команда \verb|\verb|. Нужно её добавить. Сделать
это можно с помощью команды конкатенации строк. Выполним команду:
\begin{verbatim}
	let g:Tex_PromptedCommands.=',verb'
\end{verbatim}
Аналогичным образом можно изменять любую строковую переменную, в том числе и упоминаемую ранее
\verb|g:Tex_PromptedEnvironments|.
Вы уже заметили, что когда команда \LaTeX{} или окружение вставляется в исходный код документа, 
то вставляются такие значки: \verb|<++>| или даже \verb|<+filename+>|. Эти значки называются 
\texttt{placeholder}, то есть место для вставки. Что вставлять вместе с командой определяется 
содержимой переменной \verb|g:Tex_команда|. То есть, если мы хотим в качестве шаблона команды \verb|\verb| 
видеть следующее: \verb$\verb||<++>$, то нужно выполнить следующее присваивание:
\begin{verbatim}
	let g:Tex_Com_verb = ''\\verb|<++>|<++>''
\end{verbatim}
При этом курсор будет помещен на первый \texttt{placeholder}, и перемещение по таким 
местам ввода осуществляется с помощью комбинации клавиш \texttt{Ctrl-j}.

\part{Трансляция и просмотр}
Почти полноценной средой разработки может считаться такой программный продукт, который
имеет функции трансляции и просмотра результата. \texttt{latexsuite} такую возможность
предоставляет. Для этого используются команды \texttt{<laeder>ll} и \texttt{<leader>lv}
соответственно. Автору не удалось настроить эти команды, чтобы они работали должным образом. 
Очевидно, это сделать возможно. Когда получится, тогда этот раздел будет переработан.
\part{Заключение и выводы.}
В статье были рассмотрены основные возможности расширения \texttt{latexsuite}, 
предназначенного для работы с \LaTeX{} при помощи текстового редактора \texttt{VIM}.
Это далеко не исчерпывающий перечень предоставляемых расширением возможностей, но даже 
использование рассмотренных существенно помогает при создании документов. Самое главное, 
что все прелести редактора \texttt{VIM} остаются в распоряжении пользователя. 
Остается отметить, что вместе с \texttt{latexsuite} поставляется полная документация,
которая размещена в каталоге \texttt{doc}, комплекта поставки расширения, полученного
так, как описано в части \ref{part:install}. Кроме того, документацию можно посмотреть 
в интернете по адресу https://vim-latex.sourceforge.net/documentation/latex-suite.html.
Эта документация в основном и использовалась для подготовки данной статьи. 

\end{document}

